<ActionBar class="action-bar">
    <!--HACK - we should remove the navigation button-->
    <NavigationButton visibility="collapsed"></NavigationButton>
    <NavigationButton android.systemIcon="ic_menu_back" (tap)="onBackButtonTap()"></NavigationButton>
    <Label class="action-bar-title" text="Edit Transfer Details" horizontalAlignment="center"></Label>
    <ActionItem ios.position="right" android.position="right">
        <Label text="Done" class="action-item" verticalAlignment="center" (tap)="onDoneButtonTap()"
            [isEnabled]="labelModel.valid"
            [isUserInteractionEnabled]="labelModel.valid"></Label>
    </ActionItem>
</ActionBar>

<GridLayout class="page page-content">
    <ScrollView>
        <StackLayout class="transfer-list">

            <Label text="TRANSFER MANIFEST NUMBER" class="transfer-list-odd"></Label>
            <TextField #labelModel="ngModel" hint="Transfer manifest number field is required" [(ngModel)]="transfer.ManifestNumber" class="transfer-list-even" required></TextField>

            <GridLayout rows="*, 55, *" columns="auto, *" class="transfer-list-odd">
                <Label text="Package Count"></Label>
                <Label col="1" horizontalAlignment="right" class="text-primary transfer-list-price">
                    <FormattedString>
                        <Span [text]="transfer.PackageCount"></Span>
                    </FormattedString>
                </Label>

                <StackLayout row="1" colSpan="2" verticalAlignment="center">
                    <Slider [(ngModel)]="transfer.PackageCount"></Slider>
                </StackLayout>

                <Label text="ADD OR REMOVE IMAGE" row="2" colSpan="2"></Label>
            </GridLayout>

            <StackLayout class="transfer-list-even">
                <!--
                MyImageAddRemove is a custom component, that wraps an imagepicker plugin and provides custom design and logic
                on top of it. Check out the custom component at /transfers/transfer-detail-edit/my-image-add-remove.
                -->
                <MyImageAddRemove #imageModel="ngModel" [(ngModel)]="transferImageUrl" required></MyImageAddRemove>
                <!-- <Label *ngIf="!imageModel.valid" class="ng-invalid-image" text="Image field is required"></Label> -->
            </StackLayout>

            <Label class="transfer-list-odd" text="PACKAGE TYPE"></Label>

            <StackLayout class="transfer-list-even">
                <!--
                MyListSelector is a custom component, that provides custom design and logic for picking an option from a list.
                Check out the custom component at /transfers/transfer-detail-edit/my-list-selector.
                -->
                <MyListSelector [(selectedValue)]="transfer.TransferType" [items]="transferClassOptions" tag="class"></MyListSelector>
            </StackLayout>

            <Label class="transfer-list-odd" text="PRODUCT CATEGORY NAME"></Label>

            <StackLayout class="transfer-list-even">
                <MyListSelector [(selectedValue)]="transfer.ProductCategoryName" [items]="transferDoorOptions" tag="doors"></MyListSelector>
            </StackLayout>

            <Label class="transfer-list-odd" text="PRODUCT NAME"></Label>

            <StackLayout class="transfer-list-even">
                <MyListSelector [(selectedValue)]="transfer.ProductName" [items]="transferSeatOptions" tag="seats"></MyListSelector>
            </StackLayout>

            <Label class="transfer-list-odd" text="PACKAGED DATE"></Label>

            <StackLayout class="transfer-list-even">
                <DatePicker (loaded)="onPickerLoaded($event)" [(selectedValue)]="transfer.TransferdDate" verticalAlignment="center"></DatePicker>
            </StackLayout>

        </StackLayout>

    </ScrollView>

    <ActivityIndicator [busy]="isUpdating"></ActivityIndicator>
</GridLayout>
